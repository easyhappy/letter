<script type="text/javascript">
  // page: 11024
  var oTable = $('#datatable').dataTable({"pagingType": "full_numbers", "tabIndex": 2, "language": {
          "paginate": {
              "previous": "上一页", "first": "第一页",
               "next": "下一页", "last": "最后一页"
             },
          "info": " ",
          "infoEmpty": " ",
          //"searchPlaceholder": "NeonId或昵称"
           },
           "searching": $("#datatable").attr("data-has-search") == "true"
         });

 if(window.has_search){
  $("#datatable_filter").append("<div class='btn-list'><a class='btn -success search-btn' href='#'>确定</a></div>")
 }
 var table = $('#datatable')
 var keyword = table.attr("data-keyword")
 var base_path = table.attr("data-url")
 var total_page = parseInt(table.attr("data-total-page"))
 var current_page = parseInt(table.attr("data-current-page"))
 //oTable.fnFilter(keyword);
 $("#datatable_paginate .-active a").html(current_page)
 if( current_page == 1){
      $("#datatable_first a").hide()
      $("#datatable_previous").hide()
 }else{
   $("#datatable_first a").click(function(){
      if(!!keyword){
        window.location.href = base_path + "?key=" + keyword + "&page=1"
      }else{
        window.location.href = base_path + "?page=1"
      }
   })
   $("#datatable_previous a").click(function(){
      if(!!keyword){
        window.location.href = base_path + "?key=" + keyword + "&page=" + (current_page - 1)
      }else{
        window.location.href = base_path + "?page="  + (current_page - 1)
      }
   })
 }

 if(current_page == total_page){
   $("#datatable_next").hide()
   $("#datatable_last").hide()
 }else{
    $("#datatable_last a").click(function(){
      if(!!keyword){
        window.location.href = base_path + "?key=" + keyword + "&page=" + total_page
      }else{
        window.location.href = base_path + "?page=" + total_page
      }
    })
    $("#datatable_next a").click(function(){
      if(!!keyword){
        window.location.href = base_path + "?key=" + keyword + "&page=" + (current_page + 1)
      }else{
        window.location.href = base_path + "?page=" + (current_page  + 1)
      }
    })
 }

 if(window.has_search){
   $("#datatable_filter .search-btn").click(function(){
      var key = $("#datatable_filter input").val()
      window.location.href = base_path + "?key=" + key
   })
 }

</script>